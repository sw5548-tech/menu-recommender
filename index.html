<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì˜¤ëŠ˜ì˜ ë©”ë‰´ ì¶”ì²œ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      text-align: center;
      padding-top: 80px;
    }
    button {
      margin: 8px;
      padding: 10px 18px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1 id="result">ì˜¤ëŠ˜ì˜ ë©”ë‰´ ì¶”ì²œ</h1>
<p id="count"></p>

<button onclick="recommend()">ì¶”ì²œ ë°›ê¸°</button>
<button onclick="addMenu()">ë©”ë‰´ ì¶”ê°€</button>

<script>
  /********************
   * ì„¤ì •
   ********************/
  const MENU_VERSION = 2; // ğŸ”¥ ì´ì „ ë²„ì „ê³¼ ë‹¤ë¥´ë¯€ë¡œ ìë™ ì´ˆê¸°í™”ë¨
  const STORAGE_KEY = "menuData";

  const DEFAULT_MENUS = [
    "ê¹€ì¹˜ë³¶ìŒë°¥","ì œìœ¡ë®ë°¥","ë¶ˆê³ ê¸°ë®ë°¥","ì˜¤ì§•ì–´ë®ë°¥","ë¹„ë¹”ë°¥","ëŒì†¥ë¹„ë¹”ë°¥",
    "ì½©ë‚˜ë¬¼ë°¥","ì „ì£¼ë¹„ë¹”ë°¥","ìœ¡íšŒë¹„ë¹”ë°¥","ì¹´ë ˆë¼ì´ìŠ¤","ì¡ì±„ë°¥","ìƒˆìš°ë³¶ìŒë°¥",
    "ì§œì¥ë°¥","ê°„ì¥ê³„ë€ë°¥","ì†Œë¶ˆê³ ê¸°ë°±ë°˜","ê³ ë“±ì–´êµ¬ì´ì •ì‹","ì‚¼ê²¹ì‚´ì •ì‹",
    "ìƒì„ ì¡°ë¦¼ë°±ë°˜","ëœì¥ì°Œê°œë°±ë°˜","ìˆœë‘ë¶€ì°Œê°œë°±ë°˜","ì”ì¹˜êµ­ìˆ˜","ë¹„ë¹”êµ­ìˆ˜",
    "ë©¸ì¹˜êµ­ìˆ˜","ì¹¼êµ­ìˆ˜","ë°”ì§€ë½ì¹¼êµ­ìˆ˜","ë‹­ì¹¼êµ­ìˆ˜","ìˆ˜ì œë¹„","ì«„ë©´","ë§‰êµ­ìˆ˜",
    "ëƒ‰ë©´","ë¹„ë¹”ëƒ‰ë©´","ë¬¼ëƒ‰ë©´","ê¹€ì¹˜ë§ì´êµ­ìˆ˜","ì½©êµ­ìˆ˜","ì—´ë¬´êµ­ìˆ˜","ì§œê¸€ì´êµ­ìˆ˜",
    "ë“¤ê¸°ë¦„êµ­ìˆ˜","ê³ ê¸°êµ­ìˆ˜","ì¥ì¹¼êµ­ìˆ˜","íŒ¥ì¹¼êµ­ìˆ˜","ê¹€ì¹˜ì°Œê°œ","ëœì¥ì°Œê°œ",
    "ë¶€ëŒ€ì°Œê°œ","ìˆœë‘ë¶€ì°Œê°œ","ì²­êµ­ì¥","ê°ˆë¹„íƒ•","ì„¤ë íƒ•","ìœ¡ê°œì¥","ì‚¼ê³„íƒ•",
    "ê°ìíƒ•","ë¼ˆí•´ì¥êµ­","ì½©ë‚˜ë¬¼êµ­ë°¥","ë¶ì–´êµ­","ë¯¸ì—­êµ­","ë™íƒœì°Œê°œ","ì•Œíƒ•",
    "ë‚´ì¥íƒ•","ì„ ì§€í•´ì¥êµ­","ì†Œê³ ê¸°ë¬´êµ­","ë‹­ê³°íƒ•","ì œìœ¡ë³¶ìŒ","ë‹­ê°ˆë¹„","ë¶ˆë‹­ë³¶ìŒ",
    "ì†Œë¶ˆê³ ê¸°","ë¼ì§€ë¶ˆë°±","í›ˆì œì˜¤ë¦¬ì •ì‹","LAê°ˆë¹„","ë“±ê°ˆë¹„ì°œ","ë‹­ë³¶ìŒíƒ•","ì°œë‹­",
    "ì¡±ë°œì •ì‹","ë³´ìŒˆì •ì‹","ëˆê¹ŒìŠ¤","ì¹˜í‚¨ìŠ¤í…Œì´í¬","í•¨ë°•ìŠ¤í…Œì´í¬","ì†Œê³ ê¸°ìŠ¤í…Œì´í¬",
    "ì–‘ë…ì¹˜í‚¨ì •ì‹","ê°„ì¥ì¹˜í‚¨ì •ì‹","ì˜¤ë¦¬ì£¼ë¬¼ëŸ­","ì‚¼ê²¹ì‚´ë³¶ìŒ","ë¼ë©´","ì§œì¥ë©´",
    "ì§¬ë½•","ë³¶ìŒë°¥","ë§ˆíŒŒë‘ë¶€ë®ë°¥","íƒ•ìˆ˜ìœ¡ì •ì‹","ë§ˆë¼íƒ•","ë§ˆë¼ìƒ¹ê¶ˆ","ìš°ë™",
    "ë¼ë©˜","ì´ˆë°¥ì •ì‹","ì¹´ë ˆìš°ë™","íŒŒìŠ¤íƒ€","ë¦¬ì¡°ë˜","í”¼ì","í–„ë²„ê±°",
    "íƒ€ì½”","ë¶€ë¦¬ë˜","ìŒ€êµ­ìˆ˜","íŒŸíƒ€ì´","ì˜¤ë¯€ë¼ì´ìŠ¤","ê³„ë€ë³¶ìŒë°¥",
    "í„°í‚¤ì¼€ë°¥","í¬ì¼€ë³¼","í•˜ì™€ì´ì•ˆë¡œì½”ëª¨ì½”","ìºë‚˜ë‹¤í‘¸í‹´",
    "ë‚¨ë¯¸ë¼ì´ìŠ¤ë³¼","ê³¨ë±…ì´ì†Œë©´ë¬´ì¹¨"
  ];

  /********************
   * ìœ í‹¸
   ********************/
  function uniqueArray(arr) {
    return [...new Set(arr.map(v => v.trim()).filter(Boolean))];
  }

  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  /********************
   * ë°ì´í„° ë¡œë“œ (ë²„ì „ + ì¤‘ë³µ ê´€ë¦¬)
   ********************/
  function loadData() {
    const saved = JSON.parse(localStorage.getItem(STORAGE_KEY));

    if (!saved || saved.version !== MENU_VERSION) {
      const menus = shuffle(uniqueArray(DEFAULT_MENUS));
      const data = { version: MENU_VERSION, menus, index: 0 };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      return data;
    }

    saved.menus = uniqueArray(saved.menus);
    return saved;
  }

  function saveData(data) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
  }

  /********************
   * ì¶”ì²œ (ëœë¤ í¸í–¥ ì œê±°)
   ********************/
  function recommend() {
    const data = loadData();

    if (data.index >= data.menus.length) {
      data.menus = shuffle(data.menus);
      data.index = 0;
    }

    const menu = data.menus[data.index++];
    saveData(data);

    document.getElementById("result").innerText =
      "ì˜¤ëŠ˜ì˜ ë©”ë‰´ ì¶”ì²œ: " + menu;
    document.getElementById("count").innerText =
      `ì´ ë©”ë‰´ ìˆ˜: ${data.menus.length}ê°œ`;
  }

  /********************
   * ë©”ë‰´ ì¶”ê°€
   ********************/
  function addMenu() {
    const data = loadData();
    const input = prompt("ì¶”ê°€í•  ë©”ë‰´ë¥¼ ì…ë ¥í•˜ì„¸ìš”");
    if (!input) return;

    const menu = input.trim();
    if (data.menus.includes(menu)) {
      alert("ì´ë¯¸ ìˆëŠ” ë©”ë‰´ì…ë‹ˆë‹¤.");
      return;
    }

    data.menus.push(menu);
    data.menus = uniqueArray(data.menus);
    saveData(data);

    alert("ë©”ë‰´ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.");
    document.getElementById("count").innerText =
      `ì´ ë©”ë‰´ ìˆ˜: ${data.menus.length}ê°œ`;
  }

  /********************
   * ì´ˆê¸° ì‹¤í–‰
   ********************/
  recommend();
</script>

</body>
</html>
